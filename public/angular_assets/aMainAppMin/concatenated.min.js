angular.module("app",["ui.bootstrap","cfp.loadingBar","angulartics","angulartics.google.analytics","angularMoment","ui.router","duScroll","ngFx","ngNotificationsBar","textAngular","angularUtils.directives.dirDisqus","ngTagsInput","ui.utils","ngFileUpload","toastr","ngDialog"]),angular.module("app").directive("accountOuterScope",["$rootScope",function(e){return{restrict:"AE",link:function(e,t,n){e.userLoginState="signIn",e.changeUserLoginState=function(t){e.userLoginState=t}}}}]).directive("accountOuterDialogScope",["$rootScope",function(e){return{restrict:"AE",link:function(e,t,n){e.userLoginState="signIn",e.changeUserLoginState=function(t){e.userLoginState=t}}}}]),angular.module("app").directive("newPostBanner",["$rootScope",function(e){return{templateUrl:"views/all/partials/templates/banners/new_post_banner.html",restrict:"AE",link:function(t,n,o){t.newPostBanner={show:!1,bannerClass:"",msg:""},e.$on("newPostBanner",function(e,n){t.newPostBanner=n}),e.$on("clearBanners",function(){t.newPostBanner={show:!1,bannerClass:"",msg:""}})}}}]).directive("toastrDirective",["$rootScope","toastr",function(e,t){return{restrict:"AE",link:function(n,o,r){e.showToast=function(e,n){switch(e){case"success":t.clear(),t.success(n);break;case"warning":t.clear(),t.warning(n,"Warning",{closeButton:!0,tapToDismiss:!0});break;case"error":t.clear(),t.error(n,"Error",{closeButton:!0,tapToDismiss:!0,timeOut:!1});break;default:t.clear()}},e.clearToasts=function(){t.clear()}}}}]).directive("signInBannerScope",["$rootScope",function(e){return{restrict:"AE",link:function(t,n,o){t.signInBanner={show:!1,bannerClass:"",msg:""},e.$on("signInBanner",function(e,n){t.signInBanner=n}),e.$on("clearBanners",function(){t.signInBanner={show:!1,bannerClass:"",msg:""}})}}}]).directive("registrationBannerScope",["$rootScope",function(e){return{restrict:"AE",link:function(t,n,o){t.registrationBanner={show:!1,bannerClass:"",msg:""},e.$on("registrationBanner",function(e,n){t.registrationBanner=n}),e.$on("clearBanners",function(){t.registrationBanner={show:!1,bannerClass:"",msg:""}})}}}]),angular.module("app").directive("contactUsScope",["$rootScope","$http",function(e,t){return{restrict:"AE",link:function(n,o,r){function s(t,n,o){var r=0;return t&&0!=t.length?n&&0!=n.length?o&&0!=o.length?0==r?1:void 0:(++r,e.main.showToast("warning","Message field is empty"),-1):(++r,e.main.showToast("warning","Please enter a valid email"),-1):(++r,e.main.showToast("warning","Please enter your name"),-1)}function a(e){return t.post("/contactUs",e)}n.contactUsModel={name:"",email:"",message:""},n.sendContactUs=function(){var t=s(n.contactUsModel.name,n.contactUsModel.email,n.contactUsModel.message);1==t&&a(n.contactUsModel).success(function(t){n.contactUsModel.name="",n.contactUsModel.email="",n.contactUsModel.message="",e.main.responseStatusHandler(t)}).error(function(t){e.main.responseStatusHandler(t)})}}}}]).directive("contactUs",[function(){return{templateUrl:"views/all/partials/components/contact_us.html",restrict:"AE",link:function(e,t,n){}}}]),angular.module("app").directive("createAccountScope",["$rootScope","$http",function(e,t){return{restrict:"AE",link:function(n,o,r){function s(e){return t.post("/createAccount",e)}n.registrationDetails={email:"",firstName:"",lastName:"",username:"",password1:"",password2:"",invitationCode:"",isDialog:!1},n.createAccount=function(){s(n.registrationDetails).success(function(t){e.main.responseStatusHandler(t)}).error(function(t){n.registrationDetails.password1="",n.registrationDetails.password2="",n.registrationDetails.invitationCode="",e.main.responseStatusHandler(t)})}}}}]).directive("createAccountDialogScope",["$rootScope","$http",function(e,t){return{restrict:"AE",link:function(n,o,r){function s(e){return t.post("/createAccount",e)}n.registrationDetails={email:"",firstName:"",lastName:"",username:"",password1:"",password2:"",invitationCode:"",isDialog:!0},n.createAccount=function(){s(n.registrationDetails).success(function(t){e.main.responseStatusHandler(t)}).error(function(t){n.registrationDetails.password1="",n.registrationDetails.password2="",n.registrationDetails.invitationCode="",e.main.responseStatusHandler(t)})}}}}]),angular.module("app").directive("mainFooter",[function(){return{templateUrl:"views/all/partials/components/main_footer.html",restrict:"AE",link:function(e,t,n){}}}]),angular.module("app").directive("logoutScope",["$rootScope","$http",function(e,t){return{restrict:"AE",link:function(n,o,r){function s(){return t.post("/api/logoutClient")}n.logoutClient=function(){s().success(function(t){e.main.responseStatusHandler(t)}).error(function(t){e.main.responseStatusHandler(t)})}}}}]),angular.module("app").directive("postContent",["$filter",function(e){return{templateUrl:"views/all/partials/templates/post-components/post_content.html",scope:{postContent:"=model"},restrict:"AE",link:function(t,n,o){t.postContent=e("preparePostContent")(t.postContent)}}}]).directive("postSummary",["$filter",function(e){return{templateUrl:"views/all/partials/templates/post-components/post_summary.html",scope:{postSummary:"=model"},restrict:"AE",link:function(t,n,o){t.postSummary=e("preparePostSummary")(t.postSummary)}}}]).directive("postTags",["$filter",function(e){return{templateUrl:"views/all/partials/templates/post-components/post_tags.html",scope:{postTags:"=model"},restrict:"AE",link:function(e,t,n){}}}]),angular.module("app").directive("resendEmailScope",["$rootScope","$http",function(e,t){return{restrict:"AE",link:function(n,o,r){function s(e){return t.post("/resendConfirmationEmail",{userUniqueCuid:e})}n.resendConfirmationEmail=function(t){console.log(t),s(t).success(function(t){e.main.responseStatusHandler(t)}).error(function(t){e.main.responseStatusHandler(t)})}}}}]),angular.module("app").directive("signInScope",["$rootScope","$http",function(e,t){return{restrict:"AE",link:function(n,o,r){function s(e){return t.post("/localUserLogin",e)}n.loginFormModel={username:"",password:"",isDialog:!1},n.submitLocalLoginForm=function(){s(n.loginFormModel).success(function(t){e.main.responseStatusHandler(t)}).error(function(t){n.loginFormModel.password="",e.main.responseStatusHandler(t)})}}}}]).directive("signInDialogScope",["$rootScope","$http",function(e,t){return{restrict:"AE",link:function(n,o,r){function s(e){return t.post("/localUserLogin",e)}n.loginFormModel={username:"",password:"",isDialog:!0},n.submitLocalLoginForm=function(){s(n.loginFormModel).success(function(t){e.main.responseStatusHandler(t)}).error(function(t){n.loginFormModel.password="",e.main.responseStatusHandler(t)})}}}}]),angular.module("app").directive("suggestedPosts",["$rootScope","$filter","$http",function(e,t,n){return{templateUrl:"views/all/partials/templates/suggested/suggested_posts.html",restrict:"AE",link:function(o,r,s){function a(){i().success(function(t){t.postsArray.length>0&&u(t.postsArray),e.main.responseStatusHandler(t)}).error(function(t){e.main.responseStatusHandler(t)})}function i(){return n.post("/api/getSuggestedPosts",{})}function u(e){o.suggestedPosts=e==[]?[]:t("preparePostsNoChange")(null,e)}o.suggestedPosts=[],o.suggestedPostsCount=0,a()}}}]),angular.module("app").directive("titleDirective",["globals",function(e){return{template:'<title ng-bind="defaultTitle"></title>',restrict:"AE",link:function(t,n,o){t.defaultTitle=e.getDocumentTitle(),t.$watch(e.getDocumentTitle,function(){t.defaultTitle=e.getDocumentTitle()})}}}]),angular.module("app").directive("universalSearchBoxScope",["$window","$location","$rootScope","globals",function(e,t,n,o){return{restrict:"AE",link:function(e,t,o){e.mainSearchModel={queryString:"",requestedPage:1},e.performMainSearch=function(){e.mainSearchModel.queryString.length>0&&n.main.redirectToPage("/search/posts?q="+e.mainSearchModel.queryString+"&page="+parseInt(e.mainSearchModel.requestedPage))}}}}]),angular.module("app").controller("PopularStoriesController",["$q","$log","$scope","$rootScope","PopularStoriesService","globals",function(e,t,n,o,r,s){function a(){r.getPopularStoriesFromServer().success(function(e){o.main.responseStatusHandler(e),n.popularStories=r.updatePopularStories(e.popularStories)}).error(function(e){n.popularStories=r.updatePopularStories([]),o.main.responseStatusHandler(e)})}n.popularStories=r.getPopularStories(),a(),o.$on("reconnect",function(){a()})}]),angular.module("app").controller("UniversalController",["$q","$filter","$log","$interval","$window","$location","$scope","$rootScope","socket","socketService","globals","$document","notifications",function(e,t,n,o,r,s,a,i,u,c,l,p,d){function g(){c.getUserData().success(function(e){i.main.responseStatusHandler(e),a.userData=l.userData(e.userData),i.main.broadcastUserData(),a.userData.isRegistered&&u.emit("joinRoom",{room:e.userData.uniqueCuid})}).error(function(e){i.main.responseStatusHandler(e)})}a.indexPageUrl=l.allData.indexPageUrl,i.currentHost=l.getLocationHost(),a.showDisqus=-1!==s.host().search("negusmath");var f=0;i.main={currentTime:"",showLoadingBannerDir:!1,showLoadingBanner:function(){this.showLoadingBannerDir=!0},hideLoadingBanner:function(){this.showLoadingBannerDir=!1},goToTop:function(){var e=angular.element(document.getElementById("top"));p.scrollToElement(e,80,f)},broadcastUserData:function(){i.$broadcast("userDataChanges")},responseStatusHandler:function(e){t("responseFilter")(e)},showToast:function(e,t){i.showToast(e,t)},clearBanners:function(){i.$broadcast("clearBanners")},isLoading:!0,startLoading:function(){this.isLoading=!0},finishedLoading:function(){i.isLoading=!1},redirectToPage:function(e){r.location.href=l.getLocationHost()+e},showDialogBox:function(e){i.showDialog&&i.showDialog(e)}},a.currentTime=moment().format("ddd, MMM D, H:mm");var m=function(){a.currentTime=moment().format("ddd, MMM D, H:mm")};o(m,2e4,0,!0),g();var h=[];i.stateHistory=[],i.$on("$stateChangeSuccess",function(e,t,n,o,r){h.push(s.$$path);var a={};a[o.name]=r,i.stateHistory.push(a)}),i.back=function(){window.history.back()},i.backAngular=function(){var e=h.length>1?h.splice(-2)[0]:"/";s.path(e)},i.$on("$stateChangeStart",function(e,t,n,o,r){i.main.clearBanners(),i.clearToasts()}),i.$on("reconnect",function(){g()})}]),angular.module("app").filter("timeago",[function(){return function(e,t,n){if(!e)return"never";if(t||(t=Date.now()),angular.isDate(e)?e=e.getTime():"string"==typeof e&&(e=new Date(e).getTime()),angular.isDate(t)?t=t.getTime():"string"==typeof t&&(t=new Date(t).getTime()),"number"==typeof e&&"number"==typeof t){var o=Math.abs((t-e)/1e3),r=[],s=60,a=3600,i=86400,u=604800,c=31556926,l=315569260;return r=s>=o?["",n?"now":"less than a minute"]:60*s>o?[Math.round(Math.abs(o/s)),"min"]:24*a>o?[Math.round(Math.abs(o/a)),"hr"]:7*i>o?[Math.round(Math.abs(o/i)),"day"]:52*u>o?[Math.round(Math.abs(o/u)),"week"]:10*c>o?[Math.round(Math.abs(o/c)),"year"]:100*l>o?[Math.round(Math.abs(o/l)),"decade"]:["","a long time"],r[1]+=0===r[0]||r[0]>1?"s":"",r=r.join(" "),n===!0?r:t>=e?r+" ago":"in "+r}}}]).filter("getTimeAgo",["$filter",function(e){return function(t){return e("timeago")(t)}}]).filter("getPostDate",[function(){return function(e){return moment(e).format("ddd, MMM D, H:mm")}}]).filter("getPostAbsoluteUrl",[function(){return function(e){return"http://www.negusmath.com/#!/home/post/"+e}}]).filter("getPostPath",[function(){return function(e){return"/#!/home/post/"+e}}]).filter("makeVideoIframesResponsive",[function(){return function(e,t){function n(e){return e.postSummary&&(o=$("<div>"+e.postSummary+"</div>"),r=$("img.ta-insert-video",o),r.length>0&&(s=r.addClass("embed-responsive-item").wrap("<div class='embed-responsive embed-responsive-16by9'></div>"),o.find("img").replaceWith(s)),e.postSummary=o.html()),e.postContent&&(o=$("<div>"+e.postContent+"</div>"),r=$("img.ta-insert-video",o),r.length>0&&(s=r.addClass("embed-responsive-item").wrap("<div class='embed-responsive embed-responsive-16by9'></div>"),o.find("img").replaceWith(s)),e.postContent=o.html()),e}var o,r,s;return e?Object.keys(e).length>0?n(e):e:t?(t.forEach(function(e,o){Object.keys(e).length>0&&(t[o]=n(e))}),t):void 0}}]).filter("getVideoResponsiveVersion",[function(){return function(e){function t(e){return n=$("<div>"+e+"</div>"),o=$("img.ta-insert-video",n),o.length>0&&(r=o.addClass("embed-responsive-item").wrap("<div class='embed-responsive embed-responsive-16by9'></div>"),n.find("img").replaceWith(r)),n.html()}var n,o,r;return e?t(e):e}}]).filter("highlightText",["$rootScope",function(e){return function(t,n){function o(){return"home.search"==e.$state.current.name?{status:!0,queryString:e.$stateParams.queryString||""}:e.stateHistory.length>0&&e.stateHistory[e.stateHistory.length-1].hasOwnProperty("home.search")&&"home.post"==e.$state.current.name?{status:!0,queryString:e.stateHistory[e.stateHistory.length-1]["home.search"].queryString}:{status:!1}}function r(e){if(n){var t=e,r=o();if(r.status===!0){var s=$("<div>"+e+"</div>");$(s).highlight(r.queryString),t=s.html()}else{var a=$("<div>"+e+"</div>");$(a).removeHighlight(),t=a.html()}}else{var i=$("<div>"+e+"</div>");$(i).removeHighlight(),t=i.html()}return t}return r(t)}}]).filter("preparePosts",["$filter",function(e){return function(t,n){function o(t){return t.length>0&&t.forEach(function(n,o){t[o].text=e("highlightText")(n.text,!0)}),t}function r(t){return t.timeAgo=e("getTimeAgo")(t.createdAt),t.postDate=e("getPostDate")(t.createdAt),t.postAbsoluteUrl=e("getPostAbsoluteUrl")(t.postIndex),t.postPath=e("getPostPath")(t.postIndex),t.postHeading=e("highlightText")(t.postHeading,!0),t.authorName=e("highlightText")(t.authorName,!0),t.postSummary=e("highlightText")(e("getVideoResponsiveVersion")(t.postSummary),!0),t.postContent=e("highlightText")(e("getVideoResponsiveVersion")(t.postContent),!0),t.postTags=o(t.postTags),t}return t?Object.keys(t).length>0?r(t):t:n?(n.forEach(function(e,t){Object.keys(e).length>0&&(n[t]=r(e))}),n):void 0}}]).filter("preparePostSummary",["$filter",function(e){return function(t){function n(n){return e("highlightText")(e("getVideoResponsiveVersion")(t),!0)}return console.log("postSummary called"),t?n(t):t}}]).filter("preparePostContent",["$filter",function(e){return function(t){function n(t){return e("highlightText")(e("getVideoResponsiveVersion")(t),!0)}return t?n(t):t}}]).filter("preparePostSummary",["$filter",function(e){return function(t){function n(t){return e("highlightText")(e("getVideoResponsiveVersion")(t),!0)}return t?n(t):t}}]).filter("removeHighlights",["$filter",function(e){return function(t,n){function o(t){return t.length>0&&t.forEach(function(n,o){t[o].text=e("highlightText")(n.text,!1)}),t}function r(t){return t.timeAgo=e("getTimeAgo")(t.createdAt),t.postDate=e("getPostDate")(t.createdAt),t.postAbsoluteUrl=e("getPostAbsoluteUrl")(t.postIndex),t.postPath=e("getPostPath")(t.postIndex),t.postHeading=e("highlightText")(t.postHeading,!1),t.authorName=e("highlightText")(t.authorName,!1),t.postSummary=e("highlightText")(t.postSummary,!1),t.postContent=e("highlightText")(t.postContent,!1),t.postTags=o(t.postTags),t}return t?Object.keys(t).length>0?r(t):t:n?(n.forEach(function(e,t){Object.keys(e).length>0&&(n[t]=r(e))}),n):void 0}}]).filter("preparePostsNoChange",["$filter",function(e){return function(t,n){function o(t){return t.timeAgo=e("getTimeAgo")(t.createdAt),t.postDate=e("getPostDate")(t.createdAt),t.postAbsoluteUrl=e("getPostAbsoluteUrl")(t.postIndex),t.postPath=e("getPostPath")(t.postIndex),t}return t?Object.keys(t).length>0?o(t):t:n?(n.forEach(function(e,t){Object.keys(e).length>0&&(n[t]=o(e))}),n):void 0}}]).filter("responseFilter",["$q","$log","$window","$rootScope","notifications","ngDialog",function(e,t,n,o,r,s){return function(e){function r(e,t,n){return{show:e?!0:!1,bannerClass:t,msg:n}}function a(){s.open({template:"/dialog/not-authorized.html",className:"ngdialog-theme-default",overlay:!0,showClose:!1,closeByEscape:!0,closeByDocument:!0,cache:!1,trapFocus:!0,preserveFocus:!0})}function i(){s.openConfirm({template:"/dialog/sign-in.html",className:"ngdialog-theme-default",overlay:!0,showClose:!1,closeByEscape:!1,closeByDocument:!1,cache:!0,trapFocus:!0,preserveFocus:!0}).then(function(){},function(){o.main.redirectToPage("/index")})}if(null!==e&&"object"==typeof e){if(e.redirect&&e.redirect&&(n.location.href=e.redirectPage),e.notify&&e.type&&e.msg&&o.showToast(e.type,e.msg),e.dialog&&e.id)switch(e.id){case"not-authorized":a();break;case"sign-in":i()}e.banner&&e.bannerClass&&e.msg&&o.$broadcast("universalBanner",r(!0,e.bannerClass,e.msg)),e.newPostBanner&&e.bannerClass&&e.msg&&o.$broadcast("newPostBanner",r(!0,e.bannerClass,e.msg)),e.signInBanner&&e.bannerClass&&e.msg&&o.$broadcast("signInBanner",r(!0,e.bannerClass,e.msg)),e.registrationBanner&&e.bannerClass&&e.msg&&o.$broadcast("registrationBanner",r(!0,e.bannerClass,e.msg)),e.reason&&t.warn(e.reason)}return!0}}]),angular.module("app").factory("fN",["$q","$location","$window","$rootScope","socketService",function(e,t,n,o,r){return{calcObjectLength:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t}}}]),angular.module("app").factory("globals",["$q","$location","$rootScope",function(e,t,n){var o={},r={documentTitle:"Negus Math - College Level Advanced Mathematics for Kenya Students",indexPageUrl:t.port()?"http://"+t.host()+":"+t.port()+"/index":$scope.indexPageUrl="http://"+t.host()+"/index"};return{userData:function(e){return e?o=e:o},allData:r,getDocumentTitle:function(){return r.documentTitle},defaultDocumentTitle:function(){r.documentTitle="Negus Math - College Level Advanced Mathematics for Kenya Students"},changeDocumentTitle:function(e){return e&&(r.documentTitle=e),r.documentTitle},getLocationHost:function(){return-1!==document.location.hostname.search("negusmath")?"//www.negusmath.com":t.port()?"http://localhost:"+t.port():"http://localhost"},checkAccountStatus:function(){function e(e){return e&&Object.keys(e)>0?e.isRegistered?e.emailIsConfirmed?e.isApproved===!1?{show:!0,bannerClass:"alert alert-warning",msg:"Your account is awaiting approval from the administrators. Please allow up to 3 business days. You will get an email notification as soon as your account is approved.",showResendEmail:!1,accountStatus:!1}:e.isBanned&&e.isBanned.status===!0?{show:!0,bannerClass:"alert alert-warning",msg:"Your have been banned from this service. Please contact the administrators for more information",showResendEmail:!1,accountStatus:!1}:{show:!1,bannerClass:"",msg:"",showResendEmail:!1,accountStatus:!0}:{show:!0,bannerClass:"alert alert-warning",msg:"Please confirm your account by clicking the confirmation link we sent on your email. Please also check your spam folder",showResendEmail:!0,accountStatus:!1}:(console.log(e),{show:!0,bannerClass:"alert alert-warning",msg:"You are not registered. Please reload this page to create an account",showResendEmail:!1,accountStatus:!1}):{show:!1,bannerClass:"",msg:"",showResendEmail:!1,accountStatus:!0}}var t=e(o);return n.$broadcast("universalBanner",t),t.accountStatus}}}]),angular.module("app").factory("mainService",["$log","$window","$rootScope","socket",function(e,t,n,o){return o.on("reconnect",function(){e.info("'reconnect sequence' triggered"),n.$broadcast("reconnect")}),{done:function(){return 1}}}]),angular.module("app").factory("PopularStoriesService",["$filter","$log","$http","$window","$rootScope","socket",function(e,t,n,o,r,s){var a=[];return{getPopularStories:function(){return a},getPopularStoriesFromServer:function(){return n.post("/api/getPopularStories",{})},updatePopularStories:function(t){return a=t==[]?[]:e("preparePostsNoChange")(null,t),t}}}]),angular.module("app").factory("socket",["$log","$location","$rootScope",function(e,t,n){var o;o=-1!==document.location.hostname.search("negusmath")?"//www.negusmath.com":t.port()?"http://localhost:"+t.port():"http://localhost";var r=io.connect(o);return{on:function(e,t){r.on(e,function(){var e=arguments;n.$apply(function(){t.apply(r,e)})})},emit:function(e,t,o){r.emit(e,t,function(){var e=arguments;n.$apply(function(){o&&o.apply(r,e)})})},removeAllListeners:function(e,t){r.removeAllListeners(e,function(){var e=arguments;n.$apply(function(){t.apply(r,e)})})}}}]).factory("socketService",["$log","$http","$rootScope",function(e,t,n){return{getUserData:function(){return t.get("/api/getUserData")},createAccount:function(e){return t.post("/createAccount",e)},localUserLogin:function(e){return t.post("/localUserLogin",e)},resendConfirmationEmail:function(e){return t.post("/resendConfirmationEmail",{userUniqueCuid:e})},sendContactUs:function(e){return t.post("/contactUs",e)}}}]).factory("logoutService",["$http",function(e){return{logoutClient:function(){return e.post("/api/logoutClient")}}}]),angular.module("app").directive("editPostDirectiveScope",["$q","$filter","$log","$window","$location","$rootScope","globals","PostService",function(e,t,n,o,r,s,a,i){return{restrict:"AE",link:function(e,n,u){function c(){i.getCurrentEditPostModelFromServer(e.postIndex).success(function(t){s.main.responseStatusHandler(t),e.editPostModel=i.updateCurrentEditPostModel(Object.keys(t.thePost).length>0?t.thePost:{})}).error(function(t){s.main.responseStatusHandler(t),e.editPostModel=i.updateCurrentEditPostModel({})})}e.editPostModel=i.getCurrentEditPostModel(),c(),e.cancelPostUpdate=function(){s.main.showToast("success","Update cancelled"),o.location.href=r.port()?"http://"+r.host()+":"+r.port()+e.editPostModel.postPath:"http://"+r.host()+e.editPostModel.postPath},e.validateEditForm=function(n){var o=0;return t("validatePostHeading")(e.editPostModel.postHeading,n)||o++,0==o&&(t("validatePostContent")(e.editPostModel.postContent,n)||o++),0==o&&(t("validatePostSummary")(e.editPostModel.postSummary,n)||o++),0==o&&(t("validatePostTags")(e.editPostModel.postTags,n)||o++),0==o},e.submitPostUpdate=function(){e.validateEditForm(!0)&&a.checkAccountStatus()&&i.submitPostUpdate(e.editPostModel).success(function(e){s.main.responseStatusHandler(e),s.main.redirectToPage("/post/"+e.thePost.postIndex)}).error(function(e){s.main.responseStatusHandler(e)})}}}}]),angular.module("app").directive("fullPostScope",["$q","$log","$rootScope","globals","PostService",function(e,t,n,o,r){return{restrict:"AE",link:function(e,t,o){function s(){e.main.startLoading(),r.getPostFromServer(n.$stateParams.postIndex).success(function(t){n.main.responseStatusHandler(t),Object.keys(t.thePost).length>0?(e.main.post=r.updatePost(t.thePost),e.showDisqus&&(e.main.postIsLoaded=!0)):e.main.post=r.updatePost({})}).error(function(t){n.main.responseStatusHandler(t),e.main.post=r.updatePost({})}),e.main.finishLoading()}e.main={post:r.getCurrentPost(n.$stateParams.postIndex),postIsLoaded:!1,isLoading:!0,startLoading:function(){this.isLoading=!0},finishLoading:function(){this.isLoading=!1}},s(),n.$on("postUpdate",function(e,t){n.$stateParams.postIndex==t.post.postIndex&&r.updatePost(t.post)}),n.$on("reconnect",function(){})}}}]),angular.module("app").directive("newPostDirectiveScope",["$filter","$rootScope","PostService","globals",function(e,t,n,o){return{restrict:"AE",link:function(r,s,a){r.newPostModel={postHeading:"",postContent:"",postSummary:"",postTags:[],postUploads:[]},r.validateForm=function(t){var n=0;return e("validatePostHeading")(r.newPostModel.postHeading,t)||n++,0==n&&(e("validatePostContent")(r.newPostModel.postContent,t)||n++),0==n&&(e("validatePostSummary")(r.newPostModel.postSummary,t)||n++),0==n&&(e("validatePostTags")(r.newPostModel.postTags,t)||n++),0==n},r.submitNewPost=function(){if(r.validateForm(!0)&&o.checkAccountStatus()){var e={postHeading:r.newPostModel.postHeading,postContent:r.newPostModel.postContent,postSummary:r.newPostModel.postSummary,postTags:r.newPostModel.postTags,postUploads:r.newPostModel.postUploads};n.submitNewPost(e).success(function(e){var n=e.thePost;t.main.responseStatusHandler(e),r.newPostModel.postHeading="",r.newPostModel.postContent="",r.newPostModel.postSummary="",r.newPostModel.postTags=[],r.newPostModel.postUploads=[],t.main.redirectToPage("/post/"+n.postIndex)}).error(function(e){t.main.responseStatusHandler(e),t.main.goToTop()})}else t.main.goToTop()}}}}]),angular.module("app").directive("postActionsScope",["$rootScope","PostService","globals","ngDialog",function(e,t,n,o){return{restrict:"AE",link:function(r,s,a){r.trashPost=function(s){function a(){t.trashPost(s).success(function(n){e.main.responseStatusHandler(n),t.removePostWithUniqueCuid(s),e.back()}).error(function(t){e.main.responseStatusHandler(t)})}s&&n.checkAccountStatus()&&o.openConfirm({template:"/views/dialogs/confirm-trash-post.html",className:"ngdialog-theme-default",overlay:!0,showClose:!1,closeByEscape:!1,closeByDocument:!1,cache:!0,trapFocus:!0,preserveFocus:!0}).then(function(){a(s)},function(){r.main.showToast("success","Deletion cancelled")})}}}}]),angular.module("app").directive("headingMessages",["$filter",function(e){return{template:'<span class="form-error-notice" ng-show="showSpan()"><small ng-bind="postHeading | postHeadingMessages"></small></span>',restrict:"AE",scope:{postHeading:"=model"},link:function(t,n,o){t.showSpan=function(){return!e("validatePostHeading")(t.postHeading)}}}}]).directive("contentMessages",["$filter",function(e){return{template:'<span class="form-error-notice" ng-show="showSpan()"><small ng-bind="postContent | postContentMessages"></small></span>',restrict:"AE",scope:{postContent:"=model"},link:function(t,n,o){t.showSpan=function(){return!e("validatePostContent")(t.postContent)}}}}]).directive("summaryMessages",["$filter",function(e){return{template:'<span class="form-error-notice" ng-show="showSpan()"><small ng-bind="postSummary | postSummaryMessages"></small></span>',restrict:"AE",scope:{postSummary:"=model"},link:function(t,n,o){t.showSpan=function(){return!e("validatePostSummary")(t.postSummary)}}}}]).directive("tagMessages",["$filter",function(e){return{template:'<span class="form-error-notice" ng-show="showSpan()"><small ng-bind="postTags | postTagsMessages"></small></span>',restrict:"AE",scope:{postTags:"=model"},link:function(t,n,o){t.showSpan=function(){return!e("validatePostTags")(t.postTags)}}}}]),angular.module("app").directive("postStreamScope",["$q","$log","$rootScope","globals","PostService",function(e,t,n,o,r){return{restrict:"AE",link:function(e,t,o){function s(t){e.getModel={requestedPage:t},e.getModel.requestedPage&&(e.buttonLoading(),r.getPostsFromServer(e.getModel).success(function(t){n.main.responseStatusHandler(t),e.theModel2.pageNumber++,angular.element("#appendNextPosts").replaceWith(t),e.finishedLoading()}).error(function(t){n.main.responseStatusHandler(t),e.finishedLoading()}))}e.theModel2=JSON.parse(e.model),e.showMore=function(){s(parseInt(e.theModel2.pageNumber)+1)},e.buttonLoading=function(){$("#showMoreBtn2").button("loading")},e.finishedLoading=function(){$("#showMoreBtn2").button("reset")}}}}]),angular.module("app").directive("postSearchScope",["$q","$log","$rootScope","globals","PostService",function(e,t,n,o,r){return{restrict:"AE",link:function(e,t,o){function s(t){e.mainSearchModel={queryString:e.theModel.queryString,requestedPage:t},e.mainSearchModel.queryString&&e.mainSearchModel.requestedPage&&(e.buttonLoading(),r.postSearch(e.mainSearchModel).success(function(t){n.main.responseStatusHandler(t),e.theModel.pageNumber++,angular.element("#appendNextPostSearch").replaceWith(t),e.finishedLoading()}).error(function(t){n.main.responseStatusHandler(t),e.finishedLoading()}))}e.theModel=JSON.parse(e.model),e.showMore=function(){s(parseInt(e.theModel.pageNumber)+1)},e.buttonLoading=function(){$("#showMoreBtn").button("loading")},e.finishedLoading=function(){$("#showMoreBtn").button("reset")}}}}]),angular.module("app").directive("trashPostDir",["$rootScope","PostService","globals",function(e,t,n){return{template:' <a class="btn-link btn btn-default btn-sm" href ng-click="trashPost(post.postUniqueCuid)">Delete</a>',restrict:"AE",scope:{post:"=model"},link:function(o,r,s){o.trashPost=function(o){o&&n.checkAccountStatus()&&t.trashPost(o).success(function(n){e.main.responseStatusHandler(n),t.removePostWithUniqueCuid(o),e.back()}).error(function(t){e.main.responseStatusHandler(t)})}}}}]),angular.module("app").directive("universalBannerScope",["$rootScope","globals",function(e,t){return{restrict:"AE",link:function(t,n,o){t.universalBanner={show:!1,bannerClass:"",msg:""},e.$on("universalBanner",function(e,n){t.universalBanner=n}),e.$on("clearBanners",function(){t.universalBanner={show:!1,bannerClass:"",msg:""}})}}}]),angular.module("app").directive("newPostUploader",["$rootScope","uploadService","globals",function(e,t,n){return{templateUrl:"views/all/partials/templates/uploaders/new_post_uploader.html",restrict:"AE",link:function(o,r,s){function a(r,s){n.checkAccountStatus()&&t.uploadPostImage(r,s).progress(function(e){o.uploading.percent=parseInt(100*e.loaded/e.total)}).success(function(t,n,r,s){e.main.responseStatusHandler(t),o.newPostModel.postUploads.push(t.fileData),o.hideProgressBars()}).error(function(t){e.main.responseStatusHandler(t),o.hideProgressBars()})}function i(r,s){n.checkAccountStatus()&&t.uploadPdf(r,s).progress(function(e){o.uploading.percent=parseInt(100*e.loaded/e.total)}).success(function(t,n,r,s){e.main.responseStatusHandler(t),o.newPostModel.postUploads.push(t.fileData),o.hideProgressBars()}).error(function(t){e.main.responseStatusHandler(t),o.hideProgressBars()})}function u(r,s){n.checkAccountStatus()&&t.uploadZip(r,s).progress(function(e){o.uploading.percent=parseInt(100*e.loaded/e.total)}).success(function(t,n,r,s){e.main.responseStatusHandler(t),o.newPostModel.postUploads.push(t.fileData),o.hideProgressBars()}).error(function(t){e.main.responseStatusHandler(t),o.hideProgressBars()})}o.selectedFileType={type:"image"},o.isUploading=!1,o.uploading={show:!1,percent:0},o.showUploading=function(){o.isUploading=!0,o.uploading.percent=0,o.uploading.show=!0},o.hideProgressBars=function(){o.isUploading=!1,o.uploading.show=!1},o.upload=function(e){if(e&&e.length){var t=e[0],n={};o.showUploading(),"image"===o.selectedFileType.type?a(n,t):"pdf"===o.selectedFileType.type?i(n,t):"zip"===o.selectedFileType.type&&u(n,t)}}}}}]).directive("editPostUploader",["$rootScope","uploadService","globals",function(e,t,n){return{templateUrl:"views/all/partials/templates/uploaders/edit_post_uploader.html",restrict:"AE",link:function(o,r,s){function a(r,s){n.checkAccountStatus()&&t.uploadPostImage(r,s).progress(function(e){o.uploading.percent=parseInt(100*e.loaded/e.total)}).success(function(t,n,r,s){e.main.responseStatusHandler(t),o.editPostModel.postUploads.push(t.fileData),o.hideProgressBars()}).error(function(t){e.main.responseStatusHandler(t),o.hideProgressBars()})}function i(r,s){n.checkAccountStatus()&&t.uploadPdf(r,s).progress(function(e){o.uploading.percent=parseInt(100*e.loaded/e.total)}).success(function(t,n,r,s){e.main.responseStatusHandler(t),o.editPostModel.postUploads.push(t.fileData),o.hideProgressBars()}).error(function(t){e.main.responseStatusHandler(t),o.hideProgressBars()})}function u(r,s){n.checkAccountStatus()&&t.uploadZip(r,s).progress(function(e){o.uploading.percent=parseInt(100*e.loaded/e.total)}).success(function(t,n,r,s){e.main.responseStatusHandler(t),o.editPostModel.postUploads.push(t.fileData),o.hideProgressBars()}).error(function(t){e.main.responseStatusHandler(t),o.hideProgressBars()})}o.selectedFileType={type:"image"},o.isUploading=!1,o.uploading={show:!1,percent:0},o.showUploading=function(){o.isUploading=!0,o.uploading.percent=0,o.uploading.show=!0},o.hideProgressBars=function(){o.isUploading=!1,o.uploading.show=!1},o.upload=function(e){if(e&&e.length){var t=e[0],n={};o.showUploading(),"image"===o.selectedFileType.type?a(n,t):"pdf"===o.selectedFileType.type?i(n,t):"zip"===o.selectedFileType.type&&u(n,t)}}}}}]).directive("uploaderDirective",["$rootScope","uploadService","globals",function(e,t,n){return{templateUrl:"views/all/partials/templates/uploaders/simple_uploader.html",restrict:"AE",link:function(o,r,s){function a(r,s){n.checkAccountStatus()&&t.uploadPostImage(r,s).progress(function(e){
o.uploading.percent=parseInt(100*e.loaded/e.total)}).success(function(t,n,r,s){e.main.responseStatusHandler(t),o.uploads.push(t.fileData),o.hideProgressBars()}).error(function(t){e.main.responseStatusHandler(t),o.hideProgressBars()})}function i(r,s){n.checkAccountStatus()&&t.uploadPdf(r,s).progress(function(e){o.uploading.percent=parseInt(100*e.loaded/e.total)}).success(function(t,n,r,s){e.main.responseStatusHandler(t),o.uploads.push(t.fileData),o.hideProgressBars()}).error(function(t){e.main.responseStatusHandler(t),o.hideProgressBars()})}function u(r,s){n.checkAccountStatus()&&t.uploadZip(r,s).progress(function(e){o.uploading.percent=parseInt(100*e.loaded/e.total)}).success(function(t,n,r,s){e.main.responseStatusHandler(t),o.uploads.push(t.fileData),o.hideProgressBars()}).error(function(t){e.main.responseStatusHandler(t),o.hideProgressBars()})}o.selectedFileType={type:"image"},o.isUploading=!1,o.uploads=[],o.uploading={show:!1,percent:0},o.showUploading=function(){o.isUploading=!0,o.uploading.percent=0,o.uploading.show=!0},o.hideProgressBars=function(){o.isUploading=!1,o.uploading.show=!1},o.upload=function(e){if(e&&e.length){var t=e[0],n={};o.showUploading(),"image"===o.selectedFileType.type?a(n,t):"pdf"===o.selectedFileType.type?i(n,t):"zip"===o.selectedFileType.type&&u(n,t)}}}}}]),angular.module("app").directive("adminUsers",["$q","$log","$rootScope","UserService","globals",function(e,t,n,o,r){return{templateUrl:"views/all/partials/templates/users/admin_users.html",restrict:"AE",link:function(e,t,s){function a(){r.checkAccountStatus()&&o.getAdminUsersFromServer().success(function(t){e.adminUsers=o.updateAdminUsers(t.usersArray),n.main.responseStatusHandler(t)}).error(function(e){n.main.responseStatusHandler(e)})}e.adminUsersModel={filterString:""},e.adminUsers=o.getAdminUsers(),a(),n.$on("userChanges",function(){a()}),n.$on("reconnect",function(){})}}}]),angular.module("app").directive("allUsers",["$q","$log","$rootScope","UserService","globals",function(e,t,n,o,r){return{templateUrl:"views/all/partials/templates/users/all_users.html",restrict:"AE",link:function(e,t,s){function a(){r.checkAccountStatus()&&o.getAllUsersFromServer().success(function(t){e.allUsers=o.updateAllUsers(t.usersArray),n.main.responseStatusHandler(t)}).error(function(e){n.main.responseStatusHandler(e)})}e.allUsersModel={filterString:""},e.allUsers=o.getAllUsers(),a(),n.$on("userChanges",function(){a()}),n.$on("reconnect",function(){})}}}]),angular.module("app").directive("bannedUsers",["$q","$log","$rootScope","UserService","globals",function(e,t,n,o,r){return{templateUrl:"views/all/partials/templates/users/banned_users.html",restrict:"AE",link:function(e,t,s){function a(){r.checkAccountStatus()&&o.getBannedUsersFromServer().success(function(t){e.bannedUsers=o.updateBannedUsers(t.usersArray),n.main.responseStatusHandler(t)}).error(function(e){n.main.responseStatusHandler(e)})}e.bannedUsersModel={filterString:""},e.bannedUsers=o.getBannedUsers(),a(),n.$on("userChanges",function(){a()}),n.$on("reconnect",function(){})}}}]),angular.module("app").directive("unApprovedUsers",["$q","$log","$rootScope","UserService","globals",function(e,t,n,o,r){return{templateUrl:"views/all/partials/templates/users/unApproved_users.html",restrict:"AE",link:function(e,t,s){function a(){r.checkAccountStatus()&&o.getUsersNotApprovedFromServer().success(function(t){e.usersNotApproved=o.updateUsersNotApproved(t.usersArray),n.main.responseStatusHandler(t)}).error(function(e){n.main.responseStatusHandler(e)})}e.usersNotApprovedModel={filterString:""},e.usersNotApproved=o.getUsersNotApproved(),a(),n.$on("userChanges",function(){a()}),n.$on("reconnect",function(){})}}}]),angular.module("app").directive("userDisplay",["$rootScope","UserService","socketService","globals",function(e,t,n,o){return{templateUrl:"views/all/partials/templates/users/user_display.html",restrict:"AE",scope:{user:"="},link:function(r,s,a){r.isCollapsed=!0,r.resendConfirmationEmail=function(t){n.resendConfirmationEmail(t).success(function(t){e.main.responseStatusHandler(t)}).error(function(t){e.main.responseStatusHandler(t)})},r.addAdminPrivileges=function(n){o.checkAccountStatus()&&t.addAdminPrivileges(n).success(function(t){e.$broadcast("userChanges"),e.main.responseStatusHandler(t)}).error(function(t){e.main.responseStatusHandler(t)})},r.removeAdminPrivileges=function(n){o.checkAccountStatus()&&t.removeAdminPrivileges(n).success(function(t){e.$broadcast("userChanges"),e.main.responseStatusHandler(t)}).error(function(t){e.main.responseStatusHandler(t)})},r.approveUser=function(n){o.checkAccountStatus()&&t.approveUser(n).success(function(t){e.$broadcast("userChanges"),e.main.responseStatusHandler(t)}).error(function(t){e.main.responseStatusHandler(t)})},r.banUser=function(n){o.checkAccountStatus()&&t.banUser(n).success(function(t){e.$broadcast("userChanges"),e.main.responseStatusHandler(t)}).error(function(t){e.main.responseStatusHandler(t)})},r.unBanUser=function(n){o.checkAccountStatus()&&t.unBanUser(n).success(function(t){e.$broadcast("userChanges"),e.main.responseStatusHandler(t)}).error(function(t){e.main.responseStatusHandler(t)})}}}}]),angular.module("app").directive("usersCount",["$q","$log","$rootScope","globals",function(e,t,n,o){return{templateUrl:"views/all/partials/templates/users/user_statistics.html",restrict:"AE",link:function(e,t,o){n.$on("userChanges",function(){})}}}]),angular.module("app").run(["$templateCache","$http","$rootScope","$state","$stateParams",function(e,t,n,o,r){n.$state=o,n.$stateParams=r,n.Utils={keys:Object.keys}}]).config(["$stateProvider","$urlRouterProvider","$locationProvider","notificationsConfigProvider",function(e,t,n,o){n.html5Mode(!0),o.setAutoHide(!0),o.setHideDelay(1e4),o.setAcceptHTML(!0)}]),angular.module("app").controller("MainController",["$q","$filter","$log","$interval","$window","$location","$scope","$rootScope","socket","socketService","globals","$document",function(e,t,n,o,r,s,a,i,u,c,l,p){}]),angular.module("app").controller("SearchController",["$q","$log","$scope","$rootScope","globals","PostService",function(e,t,n,o,r,s){}]),angular.module("app").controller("UserManagerController",["$q","$scope","$rootScope","UserService","globals",function(e,t,n,o,r){function s(){r.checkAccountStatus()&&o.getUsersCountFromServer().success(function(e){t.usersCount=o.updateUsersCount(e.usersCount),n.main.responseStatusHandler(e)}).error(function(e){n.main.responseStatusHandler(e)})}t.usersCount=o.getUsersCount(),s(),n.$on("userChanges",function(){s()}),n.$on("reconnect",function(){})}]),angular.module("app").directive("logoutScope",["$rootScope","logoutService",function(e,t){return{restrict:"AE",link:function(n,o,r){n.logoutClient=function(){t.logoutClient().success(function(t){e.main.responseStatusHandler(t)}).error(function(t){e.main.responseStatusHandler(t)})}}}}]),angular.module("app").filter("validatePostHeading",["$rootScope",function(e){return function(t,n){function o(t,o){n&&e.main.showToast(t,o)}var r=0;return t?(0==t.length&&(r++,o("warning","The heading is required")),0==r&&t.length<10&&(o("warning","The minimum required length of the heading is 10 characters"),r++)):(r++,o("warning","The heading is required")),0==r}}]).filter("postHeadingMessages",[function(){return function(e){function t(e){n?n=n+": "+e:n+=e}var n="";if(e){var o=$("<div>"+e+"</div>").text();0==o.length&&t("The is a required field"),o.length>0&&o.length<10&&t("Minimum length required is 10 characters")}else t("The is a required field");return n}}]).filter("validatePostContent",["$rootScope",function(e){return function(t,n){function o(t,o){n&&e.main.showToast(t,o)}if(t){var r=$("<div>"+t+"</div>").text();return 0==r.length&&o("warning","Please add some text to the post first"),r.length>0}return o("warning","Please add some text to the post first"),!1}}]).filter("postContentMessages",[function(){return function(e){if(e){var t=$("<div>"+e+"</div>").text();return 0==t.length?"This is a required field":""}return"This is a required field"}}]).filter("validatePostSummary",["$rootScope",function(e){return function(t,n){function o(t,o){n&&e.main.showToast(t,o)}var r=0;if(t){var s=$("<div>"+t+"</div>").text();0==s.length&&(r++,o("warning","The post summary cannot be empty")),0==r&&s.length>2e3&&(r++,o("warning","The post summary cannot exceed 2000 characters"))}else r++,o("warning","The post summary cannot be empty");return 0==r}}]).filter("postSummaryMessages",[function(){return function(e){function t(e){n?n=n+": "+e:n+=e}var n="";if(e){var o=$("<div>"+e+"</div>").text();0==o.length&&t("The post summary cannot be empty"),o.length>2e3&&t("The post summary cannot exceed 2000 characters")}else t("The post summary cannot be empty");return n}}]).filter("validatePostTags",["$rootScope",function(e){return function(t,n){function o(t,o){n&&e.main.showToast(t,o)}var r=0,s=0;return t?(t.forEach(function(e){s++,e&&e.text&&(0==r&&e.text.length<3&&(r++,o("warning","Minimum required length for each tag is 3 characters")),0==r&&e.text.length>30&&(r++,o("warning","Maximum allowed length for each tag is 30 characters")))}),0==r&&s>5&&(r++,o("warning","Only a maximum of 5 tags are allowed per post")),0==r):!0}}]).filter("postTagsMessages",[function(){return function(e){function t(e){n?n=n+": "+e:n+=e}var n="",o=0;return e&&(e.forEach(function(e){o++,e&&e.text&&(e.text.length<3&&t("Minimum required length for each tag is 3 characters"),e.text.length>30&&t("Maximum allowed length for each tag is 30 characters"))}),o>5&&t("Only a maximum of 5 tags are allowed per post")),n}}]),angular.module("app").factory("PostService",["$filter","$http","$window","$rootScope","socket","globals",function(e,t,n,o,r,s){var a={},i={},u={},c=0;return r.on("newPost",function(e){o.$broadcast("newPost",e)}),r.on("postUpdate",function(e){o.$broadcast("postUpdate",e)}),{getAllPosts:function(){return u},getPosts:function(e){return e?u[e]:[]},getAllPostsCount:function(){return c},getPostsFromServer:function(e){var n=e.requestedPage;return History.pushState(null,null,"/posts?page="+parseInt(n)),t.get("/partial/posts?page="+parseInt(n))},updatePosts:function(t,n){return u[n]=t==[]?[]:e("preparePosts")(null,t),u[n]},removePostWithUniqueCuid:function(e){var t=0;for(var n in u)0==t&&u.hasOwnProperty(n)&&u[n].forEach(function(o,r){0==t&&o.postUniqueCuid==e&&(u[n].splice(r,1),++t)})},updateAllPostsCount:function(e){return c=e},addNewToPosts:function(t){function n(n){return n=t=={}?{}:e("preparePosts")(n,null)}var o=n(t);return u[1].unshift(o),u},getCurrentPost:function(e){return e?a[e]:{}},getPostFromServer:function(e){return t.post("/api/getPost",{postIndex:e})},updatePost:function(t){return t=={}?a={}:a[t.postIndex]=e("preparePosts")(t,null),a[t.postIndex]},getCurrentEditPostModel:function(){return i=={}?{}:i},getCurrentEditPostModelFromServer:function(e){return t.post("/api/getPost",{postIndex:e})},updateCurrentEditPostModel:function(t){return i=t=={}?{}:e("preparePostsNoChange")(t,null)},postSearch:function(e){var n=e.queryString,o=e.requestedPage;return History.pushState(null,null,"/search/posts?q="+n+"&page="+parseInt(o)),t.get("/partial/search/posts?q="+n+"&page="+parseInt(o))},submitNewPost:function(e){return t.post("/api/newPost",{newPost:e})},submitPostUpdate:function(e){return t.post("/api/updatePost",{postUpdate:e})},trashPost:function(e){return t.post("/api/trashPost",{postUniqueCuid:e})},unTrashPost:function(e){return t.post("/api/unTrashPost")}}}]),angular.module("app").factory("uploadService",["$q","$location","Upload","globals",function(e,t,n,o){return{uploadPostImage:function(e,t){return n.upload({url:o.getLocationHost()+"/api/uploadPostImage",fields:e,file:t})},uploadPdf:function(e,t){return n.upload({url:o.getLocationHost()+"/api/uploadPdf",fields:e,file:t})},uploadZip:function(e,t){return n.upload({url:o.getLocationHost()+"/api/uploadZip",fields:e,file:t})}}}]),angular.module("app").factory("UserService",["$filter","$http",function(e,t){var n={},o=[],r=[],s=[],a=[];return{getUsersCount:function(){return n},getUsersCountFromServer:function(){return t.post("/api/getUsersCount",{})},updateUsersCount:function(e){return n=e},getAllUsers:function(){return o},getAllUsersFromServer:function(){return t.post("/api/getAllUsers",{})},updateAllUsers:function(e){return o=e},getAdminUsers:function(){return r},getAdminUsersFromServer:function(){return t.post("/api/getAdminUsers",{})},updateAdminUsers:function(e){return r=e},getUsersNotApproved:function(){return s},getUsersNotApprovedFromServer:function(){return t.post("/api/getUsersNotApproved",{})},updateUsersNotApproved:function(e){return s=e},getBannedUsers:function(){return a},getBannedUsersFromServer:function(){return t.post("/api/getBannedUsers",{})},updateBannedUsers:function(e){return a=e},addAdminPrivileges:function(e){return t.post("/api/addAdminPrivileges",{userUniqueCuid:e})},removeAdminPrivileges:function(e){return t.post("/api/removeAdminPrivileges",{userUniqueCuid:e})},approveUser:function(e){return t.post("/api/approveUser",{userUniqueCuid:e})},banUser:function(e){return t.post("/api/banUser",{userUniqueCuid:e})},unBanUser:function(e){return t.post("/api/unBanUser",{userUniqueCuid:e})}}}]);
//# sourceMappingURL=concatenated.min.js.map