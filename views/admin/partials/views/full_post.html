<div class="panel panel-default"
     ng-controller="FullPostController">

    <div id="loading-splash-card">
        <div class="panel-body">
            <ul class="list-unstyled animated fadeIn">
                <li class="list-unstyled clearfix">

                    <div class="card"
                         id="loading-card">

                        <div class="card-content text-center" id="loading-card-content">

                            <h3 class="loading-text text-outputs">LOADING...</h3>

                            <div class="progress">
                                <div class="progress-bar progress-bar-warning progress-bar-striped" role="progressbar"
                                     ng-attr-aria-valuenow="{{isLoadingPercentage}}"
                                     aria-valuemin="0" aria-valuemax="100"
                                     ng-attr-style="{{'width: ' + isLoadingPercentage + '%;'}}">
                                    <span class="sr-only">60% Complete</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>

    <!--the full post-->
    <div ng-show="showPost">
        <div class="panel-heading ng-cloak"><a href ng-click="back()"><i class="fa fa-arrow-left"></i> BACK</a>
            <span class="pull-right hidden-sm hidden-xs">{{post.postDate}}</span>
        </div>

        <div class="panel-body">
            <ul class="list-unstyled animated fadeIn">
                <li class="list-unstyled clearfix"
                    ng-show="!editingMode">
                    <div class="card">

                        <div class="card-content">

                            <h1 class="ng-cloak text-outputs postHeading">{{post.postHeading}}</h1>

                            <h3 class="text-muted postBy">
                                <small class="ng-cloak"><a class="btn-link">{{post.authorName}}, </a>
                                    {{post.theTimeAgo}}
                                </small>
                            </h3>

                            <div class="postContent">
                                <div ta-bind
                                     ng-model="post.postContent"></div>
                            </div>
                            m

                        </div>

                        <div class="card-action clearfix">
                            <div id="postTags"
                                 class="pull-left">
                                <span ng-repeat="tagObject in post.postTags">
                                    <a class="btn btn-default btn-xs postTags"
                                       target="_self">{{tagObject.text}}</a> </span>
                            </div>
                            <div class="pull-right">
                                <a class="btn-link btn btn-default btn-sm"
                                   ng-click="goToTop(); goIntoPostEditingMode()">Edit</a>
                                <a class="btn-link btn btn-default btn-sm">Delete</a>
                            </div>

                        </div>
                    </div>
                </li>

                <li class="list-unstyled clearfix"
                    ng-show="editingMode">
                    <div class="card">

                        <div class="card-content">

                            <form name="editPostForm">

                                <div class="padding-bottom-15">

                                    <!--Heading field-->
                                    <div class="form-group">
                                        <label for="editPostHeading"><strong>Heading</strong></label>
                                        <input type="text"
                                               class="form-control"
                                               id="editPostHeading"
                                               placeholder="Enter heading"
                                               ng-model="post.postHeading"
                                               ng-minlength="10"
                                               required
                                               ng-disabled="isLoading || universalDisable"
                                               name="editPostHeading">

                            <span class="form-error-notice"
                                  ng-show="editPostForm.editPostHeading.$error.required"
                                  ng-if='editPostForm.editPostHeading.$dirty'>
                                <small>This is a required field:</small>
                            </span>
                            <span class="form-error-notice"
                                  ng-show="editPostForm.editPostHeading.$error.minlength"
                                  ng-if='editPostForm.editPostHeading.$dirty'>
                                <small>Minimum length required is 10:</small>
                            </span>
                                    </div>

                                </div>

                                <div class="form-group">
                                    <p><strong>Content</strong></p>

                                    <text-angular
                                            name="editPostMainContent"
                                            ng-model="post.postContent"></text-angular>
                                </div>

                                <div class="form-group">
                                    <p><strong>Post Summary</strong></p>

                                    <text-angular
                                            name="editPostSummary"
                                            ng-model="post.postSummary">
                                    </text-angular>
                                    <span class="form-error-notice"
                                          ng-show="checkIfEditPostSummaryIsEmpty()">
                                                <small>This is a required field:</small>
                                                </span>

                                                <span class="form-error-notice"
                                                      ng-show="checkEditPostSummaryMaxLength(2000)">
                                                <small>Maximum html length required is 2000:</small>
                                                </span>

                                    <br/>
                                    <small class="form-help-notice">The post summary represents the post
                                        in the list
                                        of all posts. Limited to 2000 characters. Users will be able to
                                        click a 'read more' link to see the main content of the post
                                    </small>
                                </div>

                                <div class="form-group">
                                    <p><strong>Tags</strong></p>

                                    <tags-input name="editPostTags"
                                                ng-model="post.postTags"
                                                placeholder="Add tags"
                                                min-length="3"
                                                max-length="30"
                                                max-tags="5">
                                        <!--<auto-complete source="loadTags($query)"></auto-complete>-->
                                    </tags-input>
                                    <small class="form-help-notice">Enter up to five tags</small>

                                </div>

                            </form>

                        </div>

                        <div class="card-action clearfix ng-cloak">

                            <div class="pull-right">
                                <a class="btn btn-default btn-sm"
                                   href ng-click="cancelPostUpdate(); goToTop();">Cancel</a>
                                <a class="btn btn-default btn-sm"
                                   href ng-click="submitPostUpdate(); goToTop();"
                                   ng-disabled="editPostForm.$invalid">Save</a>
                            </div>

                        </div>
                    </div>
                </li>

                <li class="list-unstyled clearfix">
                    <div id="disqus-div">
                        <dir-disqus disqus-shortname="negusmathproduction"
                                    disqus-identifier="{{post.postUniqueCuid}}"
                                    disqus-title="{{ post.postHeading }}"
                                    disqus-url="{{post.postUrl}}"
                                    ready-to-bind="{{postIsLoaded}}">
                        </dir-disqus>
                    </div>
                </li>
            </ul>
        </div>
    </div>

    <!--showing suggested posts-->
    <div ng-show="showSuggestedPosts">
        <div class="panel-heading ng-cloak"><i class="fa fa-leanpub"></i> SUGGESTED POSTS
            <span class="pull-right">
            <a ng-href="/#!/home/1"><i class="fa fa-arrow-left"></i> Home</a>
            </span>
        </div>

        <ul class="list-unstyled animated fadeIn">
            <li class="list-unstyled post clearfix"
                ng-repeat="post in suggestedPosts">
                <div class="card">

                    <div class="card-content">

                        <h2 class="ng-cloak text-outputs postHeading"><a ng-href="/#!/post/{{post.postIndex}}"
                                                                         ng-click="goToTop()">{{post.postHeading}}</a>
                        </h2>

                        <h3 class="text-muted postBy">
                            <small class="ng-cloak"><a class="btn-link">{{post.authorName}}</a>
                                on
                                {{post.postDate}}
                            </small>
                            <br/>
                            <small class="text-muted ng-cloak">
                                {{post.theTimeAgo}}
                            </small>
                        </h3>

                        <div class="postContent">
                            <div ta-bind
                                 ng-model="post.postSummary"></div>
                        </div>


                    </div>
                    <div class="card-action clearfix">

                        <div class="pull-right">
                            <a ng-href="/#!/post/{{post.postIndex}}"
                               ng-click="goToTop()"
                               class="btn btn-default btn-sm">Read More</a>
                        </div>

                    </div>
                </div>
            </li>

            <li class="list-unstyled clearfix">
                <div class="card">

                    <div class="card-content">

                        <h2 class="text-outputs postHeading">Relativistic dynamics - Solution to Sample Question </h2>

                        <h3 class="text-muted postBy">
                            <small><a class="btn-link">Salash Tolan</a> on {{currentTime}}
                            </small>
                        </h3>

                        <div class="embed-responsive embed-responsive-16by9">
                            <iframe class="embed-responsive-item"
                                    src="https://www.youtube.com/embed/adKP2CzKaFM" frameborder="0"
                                    allowfullscreen></iframe>
                        </div>


                    </div>
                </div>
            </li>
        </ul>
    </div>

</div>