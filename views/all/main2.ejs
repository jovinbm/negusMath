<!DOCTYPE html>
<html lang="en" ng-app="app" ng-controller="UniversalController">
<head>

    <% include ../scripts/head.ejs %>

    <!-- loads custom css file -->
    <link rel="stylesheet" href="/public/cssmin/main/main.min.css"/>

    <title><%= title %></title>
</head>

<body ng-controller="MainController">

<notifications-bar class="notifications" closeIcon="fa fa-times-circle"></notifications-bar>

<div toastr-directive></div>

<% include partials/components-pre/top_nav.ejs %>
<div notifications-bar class="notifications" closeIcon="fa fa-times-circle"></div>

<div>

    <div id="top"></div>

    <div class="container no-padding">
        <% include ../general/templates-pre/account_status.ejs %>
    </div>

    <% include partials/templates-pre/universal_banner.ejs %>

    <!--homepage view-->
    <% if (state == 'home') { %>
    <% include partials/templates-pre/universal_search_box.ejs %>
    <% include partials/views/home-pre/home.ejs %>
    <% } %>

    <!--post view-->
    <% if (state == 'post') { %>
    <% include partials/templates-pre/universal_search_box.ejs %>
    <% include partials/views/home-pre/post.ejs %>
    <% } %>

    <!--new-post view-->
    <% if (state == 'new-post') { %>
    <% include partials/templates-pre/universal_search_box.ejs %>
    <% include partials/views/home-pre/new_post.ejs %>
    <% } %>

    <!--edit-post view-->
    <% if (state == 'edit-post') { %>
    <% include partials/templates-pre/universal_search_box.ejs %>
    <% include partials/views/home-pre/edit_post.ejs %>
    <% } %>

    <!--search-posts view-->
    <% if (state == 'search-posts') { %>
    <% include partials/templates-pre/universal_search_box.ejs %>
    <% include partials/views/home-pre/post_search_results.ejs %>
    <% } %>

    <!--user-management view-->
    <% if (state == 'manage-users') { %>
    <% include partials/views/users-pre/users.ejs %>
    <% } %>

</div>


<!--including all templates-->
<% include ../../views/scripts/ejs-includes.ejs %>

<!-- JAVASCRIPT -->

<% include ../scripts/bottom.ejs %>

<!--<script type="text/javascript" src="/public/angular_assets/aMainAppMin/concatenated.js"></script>-->
<script type="text/javascript" src="/public/angular_assets/aMainAppMin/concatenated.min.js"></script>

</body>
</html>