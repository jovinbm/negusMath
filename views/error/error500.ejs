<!DOCTYPE html>
<html lang="en" ng-app="app" ng-controller="UniversalController">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1, user-scalable=no">
    <meta name="description" content="Negus Math - College Level Advanced Mathematics for Kenya Students"/>
    <meta name="author" content="Jovin Mwilanga"/>
    <!--ajax crawlable-->
    <meta name="fragment" content="!"/>
    <link rel="author" href="https://plus.google.com/+JovinMwilanga"/>

    <% include ../scripts/head.ejs %>

    <!-- loads custom css file -->
    <link rel="stylesheet" href="/public/cssmin/index/index.min.css">

    <title>An error occurred - Negus Math</title>
</head>

<body ng-controller="MainController">

<notifications-bar class="notifications" closeIcon="fa fa-times-circle"></notifications-bar>

<div toastr-directive></div>

<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <!--button to target the navbar-right which will appear on collapse of navbar items-->
            <button type="button" class='navbar-toggle collapsed' data-toggle="collapse"
                    data-target=".navHeaderCollapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="#top"
               du-smooth-scroll du-scrollspy
               class="navbar-brand">
                <i class="fa fa-leanpub"></i>
                NEGUS MATH
            </a>
        </div>

        <!--this navbar will be collapsed on mobile-->
        <div class="collapse navbar-collapse navHeaderCollapse">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#services"
                       du-smooth-scroll>About</a>
                </li>

                <% if (theUser && theUser.isRegistered) { %>
                <li class="dropdown">

                    <a href="#"
                       target="_self"
                       class="dropdown-toggle" data-toggle="dropdown"><%= theUser.firstName %><b class="caret"></b>
                    </a>

                    <ul class="dropdown-menu">
                        <li logout-scope>
                            <a href="#"
                               target="_self"
                               ng-click="logoutClient()">Logout
                            </a>
                        </li>
                    </ul>
                </li>
                <% } else { %>

                <li>
                    <a href="#login"
                       du-smooth-scroll
                       ng-click="changeUserLoginState('register')">Register</a>
                </li>
                <li>
                    <a href="#login"
                       du-smooth-scroll
                       ng-click="changeUserLoginState('signIn')">Sign In</a>
                </li>
                <% } %>

            </ul>
        </div>
    </div>
</nav>

<div id="top"></div>

<div class="container">

    <div class="jumbotron">
        <div class="container">
            <h1>An error occurred</h1>

            <p>An error occurred while processing your request. Please try again</p>

            <p>
                <a class="btn btn-primary btn-lg"
                   href="#contact"
                   du-smooth-scroll du-scrollspy>Contact Us</a>
            </p>

            <% include ../general/templates/account_status.ejs %>

        </div>
    </div>

    <div>
        <div class="panel panel-default">
            <div>
                <div class="panel-heading"><a href ng-click="back()"><i class="fa fa-arrow-left"></i> GO BACK</a></div>
            </div>
        </div>

        <div class="panel panel-default">
            <div>
                <div class="panel-heading"><a href="/index"><i class="fa fa-arrow-left"></i> GO TO INDEX
                        PAGE</a></div>
            </div>
        </div>

        <div class="panel panel-default">
            <div>
                <div class="panel-heading"><a href="/"><i class="fa fa-arrow-left"></i> GO TO HOME
                        PAGE</a></div>
            </div>
        </div>

    </div>

    <% if (theUser && theUser.isRegistered) { %>
    <div>
        <div suggested-posts></div>
    </div>
    <% } %>

    <% if (!theUser) { %>

    <section id="login" account-outer-scope>

        <!--login form-->
        <% include ../index/views/sign_in.ejs %>
        <!--end of login form-->


        <!--registration form-->
        <% include ../index/views/create_account.ejs %>
        <!--end of registration form-->
    </section>

    <% } %>

    <section id="contact" contact-us-scope>
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2 class="section-heading">Contact Us</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <form id="contactForm"
                          name="contactForm">
                        <div class="row">
                            <div class="container text-center">
                                <div class="col-lg-12 text-center">

                                    <div class="form-group">
                                        <input type="text"
                                               class="form-control"
                                               placeholder="Your Name *"
                                               ng-model="contactUsModel.name"
                                               ng-minlength="4"
                                               ng-maxlength="30"
                                               required
                                               name="name">
                                        <span class="form-error-notice"
                                              ng-show="contactForm.name.$error.required"
                                              ng-if='contactForm.name.$dirty'><small>This is a
                                                required field:
                                            </small>
                                        </span>
                                        <span class="form-error-notice"
                                              ng-show="contactForm.name.$error.minlength"
                                              ng-if='contactForm.name.$dirty'><small>Minimum
                                                length required is 2:
                                            </small>
                                        </span>
                                        <span class="form-error-notice"
                                              ng-show="contactForm.name.$error.maxlength"
                                              ng-if='contactForm.name.$dirty'><small>Maximum
                                                length required is 30:
                                            </small>
                                        </span>
                                    </div>

                                    <div class="form-group">
                                        <input type="email"
                                               class="form-control"
                                               placeholder="Your Email *"
                                               ng-model="contactUsModel.email"
                                               ng-pattern="/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i"
                                               required
                                               ng-disabled="isLoading || universalDisable"
                                               name="email">
                                        <span class="form-error-notice"
                                              ng-show="contactForm.email.$error.required"
                                              ng-if='contactForm.email.$dirty'><small>This is a
                                                required field:
                                            </small>
                                        </span>
                                        <span class="form-error-notice"
                                              ng-show="contactForm.email.$error.pattern"
                                              ng-if='contactForm.email.$dirty'><small>This is not a valid email:
                                            </small>
                                        </span>
                                    </div>

                                    <div class="form-group">
                                        <textarea class="form-control"
                                                  placeholder="Your Message *"
                                                  ng-model="contactUsModel.message"
                                                  ng-required
                                                  ng-disabled="isLoading || universalDisable"
                                                  name="message">
                                        </textarea>
                                        <span class="form-error-notice"
                                              ng-show="contactForm.message.$error.required"
                                              ng-if='contactForm.message.$dirty'><small>This is a
                                                required field:
                                            </small>
                                            </span>
                                    </div>

                                </div>
                            </div>
                            <div class="col-lg-12 text-center">
                                <button class="btn btn-xl"
                                        ng-click="sendContactUs()">Send Message
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <footer class="hidden-xs hidden-sm">
        <div class="container">
            <div class="row">
                <div class="col-md-12 clearfix text-center">
                    <ul class="list-unstyled quicklinks">
                        <li class="copyright">Copyright &copy; 2015 NegusMath Inc</li>
                        <li><a href="#" target="_self">Privacy Policy</a></li>
                        <li><a href="#" target="_self">Terms of Use</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

</div>

<!--including all templates-->
<% include ../all/partials/templates/post_content.ejs %>
<% include ../all/partials/templates/post_summary.ejs %>
<% include ../all/partials/templates/post_tags.ejs %>
<% include ../all/partials/templates/suggested_posts.ejs %>

<!--including templates-->

<!-- JAVASCRIPT -->

<% include ../scripts/bottom.ejs %>

<script type="text/javascript" src="/public/angular_assets/indexAppMin/concatenated.min.js"></script>

</body>
</html>